    sepal length (cm)  sepal width (cm)  ...  petal width (cm)  target
0                 6.4               3.2  ...               2.3       2
1                 6.3               3.3  ...               1.6       1
2                 7.1               3.0  ...               2.1       2
3                 6.1               2.6  ...               1.4       2
4                 6.8               3.2  ...               2.3       2
5                 5.8               2.7  ...               1.0       1
6                 6.1               2.8  ...               1.3       1
7                 6.0               3.4  ...               1.6       1
8                 5.4               3.7  ...               0.2       0
9                 4.8               3.4  ...               0.2       0
10                5.4               3.4  ...               0.4       0
11                5.9               3.0  ...               1.5       1
12                5.1               2.5  ...               1.1       1
13                5.8               2.6  ...               1.2       1
14                6.7               3.3  ...               2.1       2
15                5.0               3.3  ...               0.2       0
16                6.2               2.9  ...               1.3       1
17                4.7               3.2  ...               0.2       0

[18 rows x 5 columns]
MLLITE_MODEL_SET_OPTIONS NuSVC {"nu" : 0.1}
MLLITE_MODEL_OPTIONS_DEFAULT NuSVC { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVC { "nu" : 0.1,  "max_iter" : 128  }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVC None
('OPERATION_START', 'TRAINING')
[[6.4 3.2 5.3 2.3]
 [6.3 3.3 4.7 1.6]
 [7.1 3.  5.9 2.1]
 [6.1 2.6 5.6 1.4]
 [6.8 3.2 5.9 2.3]] [2 1 2 2 2]
MLLITE_FIT_USING_MODEL mllite_nu_svm_class.NuSVC_ff4_il8
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_CLASSIFIER_FIT' 1 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_CLASSIFIER_FIT' 2 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_CLASSIFIER_FIT' 3 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_CLASSIFIER_FIT' 4 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_SUB_PROBLEM' 1 3
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 1 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 2 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 3 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 4 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 5 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_SUB_PROBLEM' 2 3
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 1 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 2 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 3 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 4 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 5 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_SUB_PROBLEM' 3 3
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 1 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 2 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 3 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 4 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_TRAIN_CLASS_PROBA_CROSS_VALIDATION' 5 5
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_CLASSIFIER_FIT' 5 5
('OPERATION_END_ELAPSED', 0.013, 'TRAINING')
{ "nu" : 0.1,  "max_iter" : 128  }
{ "nu" : 0.1,  "max_iter" : 128  }
{
	"metadata" : { "model" : "Vapnik_NuSVC_RBF", "version" : "2024-W13", "signature" : "ff4_il8"},
	"options" : {"svm_type" : "nu_svc", "kernel" : "rbf", "degree" : 3, "gamma" : 0.067644, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.100000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 1, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 18, "dataset_features" : 4 },
	"classes" : [ 0, 1, 2 ],
	"svm_model" : {
	"classes" : 3,
	"L" : 6,
	"SupportVectors" : {
		"SV_0" : [ 4.800000, 3.400000, 1.600000, 0.200000 ],
		"SV_1" : [ 5.400000, 3.400000, 1.500000, 0.400000 ],
		"SV_2" : [ 6.300000, 3.300000, 4.700000, 1.600000 ],
		"SV_3" : [ 5.100000, 2.500000, 3.000000, 1.100000 ],
		"SV_4" : [ 6.400000, 3.200000, 5.300000, 2.300000 ],
		"SV_5" : [ 6.100000, 2.600000, 5.600000, 1.400000 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ 2.219941, 2.492927, -0.000000, -4.712868, -0.691315, -0.734084 ],
		"SV_coef_1" : [ 0.150763, 1.274636, 20.665108, 0.000000, -14.117912, -6.547195 ]
	},
	"rho" : [ -0.032119, 0.027367, 0.390365 ],
	"nSV" : [ 2, 2, 2 ],
	"probA" : [ -1.666613, -1.778106, -1.212219 ],
	"probB" : [ 0.111539, 0.009368, 0.093257 ],
	"n_iter" : [ 3, 4, 1 ]
}
}
WRITING_JSON_CODE 'logs/auto_tests/classification/NuSVC/mllite.NuSVC_iris_sampled_option_1.json'

MLLITE_MODEL_SET_OPTIONS NuSVC {"nu" : 0.1}
MLLITE_MODEL_OPTIONS_DEFAULT NuSVC { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVC { "nu" : 0.1,  "max_iter" : 128  }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVC None
MLLITE_RELOADING_MODEL mllite_nu_svm_class.NuSVC_ff4_il8
{
	"metadata" : { "model" : "Vapnik_NuSVC_RBF", "version" : "2024-W13", "signature" : "ff4_il8"},
	"options" : {"svm_type" : "nu_svc", "kernel" : "rbf", "degree" : 3, "gamma" : 0.067644, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.100000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 1, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 18, "dataset_features" : 4 },
	"classes" : [ 0, 1, 2 ],
	"svm_model" : {
	"classes" : 3,
	"L" : 6,
	"SupportVectors" : {
		"SV_0" : [ 4.800000, 3.400000, 1.600000, 0.200000 ],
		"SV_1" : [ 5.400000, 3.400000, 1.500000, 0.400000 ],
		"SV_2" : [ 6.300000, 3.300000, 4.700000, 1.600000 ],
		"SV_3" : [ 5.100000, 2.500000, 3.000000, 1.100000 ],
		"SV_4" : [ 6.400000, 3.200000, 5.300000, 2.300000 ],
		"SV_5" : [ 6.100000, 2.600000, 5.600000, 1.400000 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ 2.219941, 2.492927, -0.000000, -4.712868, -0.691315, -0.734084 ],
		"SV_coef_1" : [ 0.150763, 1.274636, 20.665108, 0.000000, -14.117912, -6.547195 ]
	},
	"rho" : [ -0.032119, 0.027367, 0.390365 ],
	"nSV" : [ 2, 2, 2 ],
	"probA" : [ -1.666613, -1.778106, -1.212219 ],
	"probB" : [ 0.111539, 0.009368, 0.093257 ],
	"n_iter" : [ 3, 4, 1 ]
}
}
BEAUTIFIED_JSON_START
{
	"classes" : [ 0, 1, 2 ],
	"dataset" : 	{
		"dataset_features" : 4,
		"dataset_rows" : 18
	},
	"metadata" :  { "model" : "Vapnik_NuSVC_RBF", "signature" : "ff4_il8", "version" : "2024-W13" },
	"options" :  { "C" : 1.0, "cache_size" : 300, "coef0" : 0.0, "degree" : 3, "epsilon" : 0.0, "gamma" : 0.067644, "kernel" : "rbf", "max_iter" : 128, "nu" : 0.1, "probability" : 1, "random_state" : 1789, "shrinking" : 0, "svm_type" : "nu_svc", "tol" : 0.001 },
	"svm_model" : 	{
		"L" : 6,
		"SupportVectors" : 	{
			"SV_0" : [ 4.8, 3.4, 1.6, 0.2 ],
			"SV_1" : [ 5.4, 3.4, 1.5, 0.4 ],
			"SV_2" : [ 6.3, 3.3, 4.7, 1.6 ],
			"SV_3" : [ 5.1, 2.5, 3.0, 1.1 ],
			"SV_4" : [ 6.4, 3.2, 5.3, 2.3 ],
			"SV_5" : [ 6.1, 2.6, 5.6, 1.4 ]
		},
		"SupportVectorsCoefs" : 	{
			"SV_coef_0" : [ 2.219941, 2.492927, -0.0, -4.712868, -0.691315, -0.734084 ],
			"SV_coef_1" : [ 0.150763, 1.274636, 20.665108, 0.0, -14.117912, -6.547195 ]
		},
		"classes" : 3,
		"nSV" : [ 2, 2, 2 ],
		"n_iter" : [ 3, 4, 1 ],
		"probA" : [ -1.666613, -1.778106, -1.212219 ],
		"probB" : [ 0.111539, 0.009368, 0.093257 ],
		"rho" : [ -0.032119, 0.027367, 0.390365 ]
	}
}
BEAUTIFIED_JSON_END
('OPERATION_START', 'PREDICT')
('OPERATION_END_ELAPSED', 0.0, 'PREDICT')
('OPERATION_START', 'PREDICT')
('OPERATION_END_ELAPSED', 0.0, 'PREDICT')
[[0.0704 0.2084 0.7212]
 [0.1124 0.0279 0.8596]
 [0.0721 0.0879 0.84  ]
 [0.0676 0.2089 0.7236]
 [0.0703 0.0803 0.8494]
 [0.1792 0.0642 0.7567]
 [0.1733 0.0601 0.7666]
 [0.1313 0.0365 0.8322]
 [0.     0.     1.    ]
 [0.     0.     1.    ]
 [0.     0.     1.    ]
 [0.1533 0.0481 0.7986]
 [0.4185 0.3134 0.2681]
 [0.1791 0.0645 0.7564]
 [0.0705 0.1415 0.788 ]
 [0.     0.     1.    ]
 [0.1451 0.0435 0.8113]
 [0.     0.     1.    ]]
(18, 3)
(18, 3) float32
MODEL_PERFS {'class_name': 'mllite.NuSVC', 'model_name': 'NuSVC', 'options': '{"nu" : 0.1}', 'dataset': 'iris_sampled', 'size': 18, 'accuracy': 1.0, 'auc': 0.2900641025641026}
WRITING_PERF_CODE 'logs/auto_tests/classification/NuSVC/mllite.NuSVC_iris_sampled_option_1.perf'

MODEL_PERFS_TIMINGS {'class_name': 'mllite.NuSVC', 'model_name': 'NuSVC', 'options': '{"nu" : 0.1}', 'dataset': 'iris_sampled', 'training_time_in_sec': 0.013, 'prediction_time_in_sec': 0.0}
WRITING_SQL_CODE 'logs/auto_tests/classification/NuSVC/mllite.NuSVC_iris_sampled_option_1_duckdb.sql'



SQL_OUT_PUT_FIRST_LINES_START ('iris_sampled', 'NuSVC', 'duckdb')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 ),
"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   CAST("Values"."sv_0" AS FLOAT) AS "sv_0",
   CAST("Values"."sv_1" AS FLOAT) AS "sv_1",
   CAST("Values"."sv_2" AS FLOAT) AS "sv_2",
   CAST("Values"."sv_3" AS FLOAT) AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", 4.800000 AS "sv_0", 3.400000 AS "sv_1", 1.600000 AS "sv_2", 0.200000 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", 5.400000 AS "sv_0", 3.400000 AS "sv_1", 1.500000 AS "sv_2", 0.400000 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", 6.300000 AS "sv_0", 3.300000 AS "sv_1", 4.700000 AS "sv_2", 1.600000 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 5.100000 AS "sv_0", 2.500000 AS "sv_1", 3.000000 AS "sv_2", 1.100000 AS "sv_3"
     UNION ALL
     SELECT 4 AS "sv_idx", 6.400000 AS "sv_
SQL_OUT_PUT_FIRST_LINES_END ('iris_sampled', 'NuSVC', 'duckdb')
SQL_OUT_PUT_LAST_LINES_START ('iris_sampled', 'NuSVC', 'duckdb')
roba",
     t."Max_Score" AS "Max_Score",
     COALESCE(  t."max_idx_0", t."max_idx_1", t."max_idx_2" ) AS argmax_class_idx
   FROM
     "arg_max_cte_with_max_proba_idx" AS t
)
SELECT arg_max_cte."index" AS "index",
  arg_max_cte."Score_0" AS "Score_0",
  arg_max_cte."Proba_0" AS "Proba_0",
  CASE WHEN (arg_max_cte."Proba_0" IS NULL OR arg_max_cte."Proba_0" > 0.0) THEN LN( arg_max_cte."Proba_0" ) ELSE -1.79769313486231e+308 END AS "LogProba_0",
  arg_max_cte."Score_1" AS "Score_1",
  arg_max_cte."Proba_1" AS "Proba_1",
  CASE WHEN (arg_max_cte."Proba_1" IS NULL OR arg_max_cte."Proba_1" > 0.0) THEN LN( arg_max_cte."Proba_1" ) ELSE -1.79769313486231e+308 END AS "LogProba_1",
  arg_max_cte."Score_2" AS "Score_2",
  arg_max_cte."Proba_2" AS "Proba_2",
  CASE WHEN (arg_max_cte."Proba_2" IS NULL OR arg_max_cte."Proba_2" > 0.0) THEN LN( arg_max_cte."Proba_2" ) ELSE -1.79769313486231e+308 END AS "LogProba_2",
  arg_max_cte."argmax_class_idx" AS "Decision",
  arg_max_cte."Max_Proba" AS "DecisionProba"
FROM arg_max_cte
SQL_OUT_PUT_LAST_LINES_END ('iris_sampled', 'NuSVC', 'duckdb') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 18 entries, 0 to 17
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     18 non-null     float32
 1   X_1     18 non-null     float32
 2   X_2     18 non-null     float32
 3   X_3     18 non-null     float32
dtypes: float32(4)
memory usage: 432.0 bytes
       X_0  X_1  X_2  X_3
index                    
0      6.4  3.2  5.3  2.3
1      6.3  3.3  4.7  1.6
2      7.1  3.0  5.9  2.1
3      6.1  2.6  5.6  1.4
4      6.8  3.2  5.9  2.3
5      5.8  2.7  4.1  1.0
6      6.1  2.8  4.0  1.3
7      6.0  3.4  4.5  1.6
8      5.4  3.7  1.5  0.2
9      4.8  3.4  1.6  0.2
10     5.4  3.4  1.5  0.4
11     5.9  3.0  4.2  1.5
12     5.1  2.5  3.0  1.1
13     5.8  2.6  4.0  1.2
14     6.7  3.3  5.7  2.1
15     5.0  3.3  1.4  0.2
16     6.2  2.9  4.3  1.3
17     4.7  3.2  1.3  0.2
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 18 entries, 0 to 17
Data columns (total 12 columns):
 #   Column         Non-Null Count  Dtype 
---  ------         --------------  ----- 
 0   index          18 non-null     int64 
 1   Score_0        18 non-null     int64 
 2   Proba_0        0 non-null      object
 3   LogProba_0     0 non-null      object
 4   Score_1        18 non-null     int64 
 5   Proba_1        0 non-null      object
 6   LogProba_1     0 non-null      object
 7   Score_2        18 non-null     int64 
 8   Proba_2        0 non-null      object
 9   LogProba_2     0 non-null      object
 10  Decision       0 non-null      object
 11  DecisionProba  0 non-null      object
dtypes: int64(4), object(8)
memory usage: 1.8+ KB
    index  Score_0 Proba_0 LogProba_0  ...  Proba_2 LogProba_2 Decision  DecisionProba
0       0        2    None       None  ...     None       None     None           None
1       1        2    None       None  ...     None       None     None           None
2       2        2    None       None  ...     None       None     None           None
3       3        2    None       None  ...     None       None     None           None
4       4        2    None       None  ...     None       None     None           None
5       5        2    None       None  ...     None       None     None           None
6       6        2    None       None  ...     None       None     None           None
7       7        2    None       None  ...     None       None     None           None
8       8        2    None       None  ...     None       None     None           None
9       9        2    None       None  ...     None       None     None           None
10     10        2    None       None  ...     None       None     None           None
11     11        2    None       None  ...     None       None     None           None
12     12        2    None       None  ...     None       None     None           None
13     13        2    None       None  ...     None       None     None           None
14     14        2    None       None  ...     None       None     None           None
15     15        2    None       None  ...     None       None     None           None
16     16        2    None       None  ...     None       None     None           None
17     17        2    None       None  ...     None       None     None           None

[18 rows x 12 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Score_0', 'Proba_0', 'LogProba_0', 'Score_1', 'Proba_1',
       'LogProba_1', 'Score_2', 'Proba_2', 'LogProba_2', 'Decision',
       'DecisionProba'],
      dtype='object')
    index  Score_0 SQL_Proba_0  ...    Py_Proba_1  Py_Proba_2 Py_Decision
2       2        2        None  ...  8.790056e-02    0.840034           2
3       3        2        None  ...  2.088640e-01    0.723575           2
4       4        2        None  ...  8.026057e-02    0.849391           2
5       5        2        None  ...  6.417220e-02    0.756655           1
6       6        2        None  ...  6.009662e-02    0.766574           1
7       7        2        None  ...  3.648636e-02    0.832166           1
8       8        2        None  ...  2.930234e-14    1.000000           0
9       9        2        None  ...  2.930234e-14    1.000000           0
10     10        2        None  ...  2.930234e-14    1.000000           0
11     11        2        None  ...  4.811869e-02    0.798624           1
12     12        2        None  ...  3.134339e-01    0.268110           1
13     13        2        None  ...  6.451962e-02    0.756385           1
14     14        2        None  ...  1.415098e-01    0.788013           2
15     15        2        None  ...  2.930234e-14    1.000000           0
16     16        2        None  ...  4.354771e-02    0.811303           1
17     17        2        None  ...  2.930234e-14    1.000000           0

[16 rows x 16 columns]
MLLITE_CLASS_SQL_ERROR ('iris_sampled', 'NuSVC', 'duckdb') ('Py_Proba_0', 'SQL_Proba_0') nan
      Py_Proba_0 SQL_Proba_0 SQL_Error_0
2   7.206496e-02        None         NaN
3   6.756103e-02        None         NaN
4   7.034881e-02        None         NaN
5   1.791730e-01        None         NaN
6   1.733291e-01        None         NaN
7   1.313478e-01        None         NaN
8   2.441862e-14        None         NaN
9   2.441862e-14        None         NaN
10  2.441862e-14        None         NaN
11  1.532570e-01        None         NaN
12  4.184559e-01        None         NaN
13  1.790953e-01        None         NaN
14  7.047680e-02        None         NaN
15  2.441862e-14        None         NaN
16  1.451499e-01        None         NaN
17  2.441862e-14        None         NaN
MLLITE_CLASS_SQL_ERROR ('iris_sampled', 'NuSVC', 'duckdb') ('Py_Proba_1', 'SQL_Proba_1') nan
      Py_Proba_1 SQL_Proba_1 SQL_Error_1
2   8.790056e-02        None         NaN
3   2.088640e-01        None         NaN
4   8.026057e-02        None         NaN
5   6.417220e-02        None         NaN
6   6.009662e-02        None         NaN
7   3.648636e-02        None         NaN
8   2.930234e-14        None         NaN
9   2.930234e-14        None         NaN
10  2.930234e-14        None         NaN
11  4.811869e-02        None         NaN
12  3.134339e-01        None         NaN
13  6.451962e-02        None         NaN
14  1.415098e-01        None         NaN
15  2.930234e-14        None         NaN
16  4.354771e-02        None         NaN
17  2.930234e-14        None         NaN
MLLITE_CLASS_SQL_ERROR ('iris_sampled', 'NuSVC', 'duckdb') ('Py_Proba_2', 'SQL_Proba_2') nan
    Py_Proba_2 SQL_Proba_2 SQL_Error_2
2     0.840034        None         NaN
3     0.723575        None         NaN
4     0.849391        None         NaN
5     0.756655        None         NaN
6     0.766574        None         NaN
7     0.832166        None         NaN
8     1.000000        None         NaN
9     1.000000        None         NaN
10    1.000000        None         NaN
11    0.798624        None         NaN
12    0.268110        None         NaN
13    0.756385        None         NaN
14    0.788013        None         NaN
15    1.000000        None         NaN
16    0.811303        None         NaN
17    1.000000        None         NaN
MLLITE_CLASS_SQL_EXECUTION_STATUS ('iris_sampled', 'NuSVC', 'duckdb', 'Success')
    Py_Decision SQL_Decision
2             2         None
3             2         None
4             2         None
5             1         None
6             1         None
7             1         None
8             0         None
9             0         None
10            0         None
11            1         None
12            1         None
13            1         None
14            2         None
15            0         None
16            1         None
17            0         None
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
WRITING_SQL_CODE 'logs/auto_tests/classification/NuSVC/mllite.NuSVC_iris_sampled_option_1_sqlite.sql'



SQL_OUT_PUT_FIRST_LINES_START ('iris_sampled', 'NuSVC', 'sqlite')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 ),
"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   CAST("Values"."sv_0" AS FLOAT) AS "sv_0",
   CAST("Values"."sv_1" AS FLOAT) AS "sv_1",
   CAST("Values"."sv_2" AS FLOAT) AS "sv_2",
   CAST("Values"."sv_3" AS FLOAT) AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", 4.800000 AS "sv_0", 3.400000 AS "sv_1", 1.600000 AS "sv_2", 0.200000 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", 5.400000 AS "sv_0", 3.400000 AS "sv_1", 1.500000 AS "sv_2", 0.400000 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", 6.300000 AS "sv_0", 3.300000 AS "sv_1", 4.700000 AS "sv_2", 1.600000 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 5.100000 AS "sv_0", 2.500000 AS "sv_1", 3.000000 AS "sv_2", 1.100000 AS "sv_3"
     UNION ALL
     SELECT 4 AS "sv_idx", 6.400000 AS "sv_
SQL_OUT_PUT_FIRST_LINES_END ('iris_sampled', 'NuSVC', 'sqlite')
SQL_OUT_PUT_LAST_LINES_START ('iris_sampled', 'NuSVC', 'sqlite')
roba",
     t."Max_Score" AS "Max_Score",
     COALESCE(  t."max_idx_0", t."max_idx_1", t."max_idx_2" ) AS argmax_class_idx
   FROM
     "arg_max_cte_with_max_proba_idx" AS t
)
SELECT arg_max_cte."index" AS "index",
  arg_max_cte."Score_0" AS "Score_0",
  arg_max_cte."Proba_0" AS "Proba_0",
  CASE WHEN (arg_max_cte."Proba_0" IS NULL OR arg_max_cte."Proba_0" > 0.0) THEN LN( arg_max_cte."Proba_0" ) ELSE -1.79769313486231e+308 END AS "LogProba_0",
  arg_max_cte."Score_1" AS "Score_1",
  arg_max_cte."Proba_1" AS "Proba_1",
  CASE WHEN (arg_max_cte."Proba_1" IS NULL OR arg_max_cte."Proba_1" > 0.0) THEN LN( arg_max_cte."Proba_1" ) ELSE -1.79769313486231e+308 END AS "LogProba_1",
  arg_max_cte."Score_2" AS "Score_2",
  arg_max_cte."Proba_2" AS "Proba_2",
  CASE WHEN (arg_max_cte."Proba_2" IS NULL OR arg_max_cte."Proba_2" > 0.0) THEN LN( arg_max_cte."Proba_2" ) ELSE -1.79769313486231e+308 END AS "LogProba_2",
  arg_max_cte."argmax_class_idx" AS "Decision",
  arg_max_cte."Max_Proba" AS "DecisionProba"
FROM arg_max_cte
SQL_OUT_PUT_LAST_LINES_END ('iris_sampled', 'NuSVC', 'sqlite') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 18 entries, 0 to 17
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     18 non-null     float32
 1   X_1     18 non-null     float32
 2   X_2     18 non-null     float32
 3   X_3     18 non-null     float32
dtypes: float32(4)
memory usage: 432.0 bytes
       X_0  X_1  X_2  X_3
index                    
0      6.4  3.2  5.3  2.3
1      6.3  3.3  4.7  1.6
2      7.1  3.0  5.9  2.1
3      6.1  2.6  5.6  1.4
4      6.8  3.2  5.9  2.3
5      5.8  2.7  4.1  1.0
6      6.1  2.8  4.0  1.3
7      6.0  3.4  4.5  1.6
8      5.4  3.7  1.5  0.2
9      4.8  3.4  1.6  0.2
10     5.4  3.4  1.5  0.4
11     5.9  3.0  4.2  1.5
12     5.1  2.5  3.0  1.1
13     5.8  2.6  4.0  1.2
14     6.7  3.3  5.7  2.1
15     5.0  3.3  1.4  0.2
16     6.2  2.9  4.3  1.3
17     4.7  3.2  1.3  0.2
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
MODEL_SQL_EXECUTION_FAILED ('iris_sampled', 'NuSVC', 'sqlite', '(sqlite3.OperationalError) no such function: ANY_VALUE')
WRITING_SQL_CODE 'logs/auto_tests/classification/NuSVC/mllite.NuSVC_iris_sampled_option_1_pgsql.sql'



SQL_OUT_PUT_FIRST_LINES_START ('iris_sampled', 'NuSVC', 'pgsql')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 ),
"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   CAST("Values"."sv_0" AS FLOAT) AS "sv_0",
   CAST("Values"."sv_1" AS FLOAT) AS "sv_1",
   CAST("Values"."sv_2" AS FLOAT) AS "sv_2",
   CAST("Values"."sv_3" AS FLOAT) AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", 4.800000 AS "sv_0", 3.400000 AS "sv_1", 1.600000 AS "sv_2", 0.200000 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", 5.400000 AS "sv_0", 3.400000 AS "sv_1", 1.500000 AS "sv_2", 0.400000 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", 6.300000 AS "sv_0", 3.300000 AS "sv_1", 4.700000 AS "sv_2", 1.600000 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 5.100000 AS "sv_0", 2.500000 AS "sv_1", 3.000000 AS "sv_2", 1.100000 AS "sv_3"
     UNION ALL
     SELECT 4 AS "sv_idx", 6.400000 AS "sv_
SQL_OUT_PUT_FIRST_LINES_END ('iris_sampled', 'NuSVC', 'pgsql')
SQL_OUT_PUT_LAST_LINES_START ('iris_sampled', 'NuSVC', 'pgsql')
roba",
     t."Max_Score" AS "Max_Score",
     COALESCE(  t."max_idx_0", t."max_idx_1", t."max_idx_2" ) AS argmax_class_idx
   FROM
     "arg_max_cte_with_max_proba_idx" AS t
)
SELECT arg_max_cte."index" AS "index",
  arg_max_cte."Score_0" AS "Score_0",
  arg_max_cte."Proba_0" AS "Proba_0",
  CASE WHEN (arg_max_cte."Proba_0" IS NULL OR arg_max_cte."Proba_0" > 0.0) THEN LN( arg_max_cte."Proba_0" ) ELSE -1.79769313486231e+308 END AS "LogProba_0",
  arg_max_cte."Score_1" AS "Score_1",
  arg_max_cte."Proba_1" AS "Proba_1",
  CASE WHEN (arg_max_cte."Proba_1" IS NULL OR arg_max_cte."Proba_1" > 0.0) THEN LN( arg_max_cte."Proba_1" ) ELSE -1.79769313486231e+308 END AS "LogProba_1",
  arg_max_cte."Score_2" AS "Score_2",
  arg_max_cte."Proba_2" AS "Proba_2",
  CASE WHEN (arg_max_cte."Proba_2" IS NULL OR arg_max_cte."Proba_2" > 0.0) THEN LN( arg_max_cte."Proba_2" ) ELSE -1.79769313486231e+308 END AS "LogProba_2",
  arg_max_cte."argmax_class_idx" AS "Decision",
  arg_max_cte."Max_Proba" AS "DecisionProba"
FROM arg_max_cte
SQL_OUT_PUT_LAST_LINES_END ('iris_sampled', 'NuSVC', 'pgsql') 




COPY_TRAINING_DATA_TO_SQLITE_START
