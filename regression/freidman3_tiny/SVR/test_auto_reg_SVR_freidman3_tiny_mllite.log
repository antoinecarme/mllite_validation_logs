          X_0          X_1       X_2        X_3    target
0   17.761710   423.498320  0.135270  10.148129  1.270144
1   45.437614   168.841197  0.343817   3.279963  0.906663
2   69.792322   473.447926  0.233546   3.411073  1.007753
3   67.667095   938.672588  0.652046   9.523154  1.460687
4   55.118421  1002.086076  0.726658   4.570617  1.495246
5   52.067586   534.256140  0.155164   8.526538  1.009971
6   50.992903   814.561313  0.257439   5.994628  1.332255
7   34.347892   205.928122  0.720020   9.414677  1.343157
8   63.010204   221.354390  0.814630   5.897069  1.234627
9   22.605109  1660.837003  0.731124   9.374556  1.552182
10  13.280703   643.716771  0.520814   4.842079  1.531203
11   7.606344  1112.226604  0.732761   6.140375  1.561464
12  51.401745  1161.331552  0.618557   2.218271  1.499363
13  94.566439   663.266399  0.852323   6.919084  1.405051
14  14.282172  1575.160409  0.428596   4.169882  1.549644
15  38.088467  1321.297507  0.052941  10.429984  1.072180
MLLITE_MODEL_SET_OPTIONS SVR None
MLLITE_MODEL_OPTIONS_DEFAULT SVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING SVR { ,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING SVR None
('OPERATION_START', 'TRAINING')
[[1.77617092e+01 4.23498322e+02 1.35270208e-01 1.01481285e+01]
 [4.54376144e+01 1.68841202e+02 3.43817413e-01 3.27996254e+00]
 [6.97923203e+01 4.73447937e+02 2.33546272e-01 3.41107249e+00]
 [6.76670914e+01 9.38672607e+02 6.52046204e-01 9.52315426e+00]
 [5.51184196e+01 1.00208606e+03 7.26658285e-01 4.57061768e+00]] [1.2701445 0.9066629 1.0077531 1.4606868 1.4952464]
MLLITE_FIT_USING_MODEL mllite_svm_reg.SVR_ff4_ff4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 1 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 2 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 3 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 12 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 24 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 4 4
('OPERATION_END_ELAPSED', 0.006, 'TRAINING')
{ ,  "max_iter" : 128  , }
{ ,  "max_iter" : 128  , }
{
	"metadata" : { "model" : "Vapnik_SVR_RBF", "version" : "2024-W12", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "epsilon_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.100000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 16, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 10,
	"SupportVectors" : {
		"SV_0" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_1" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_2" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_3" : [ 34.347893, 205.928116, 0.720020, 9.414678 ],
		"SV_4" : [ 63.010204, 221.354385, 0.814630, 5.897069 ],
		"SV_5" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_6" : [ 13.280704, 643.716797, 0.520814, 4.842079 ],
		"SV_7" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_8" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
		"SV_9" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -1.000000, -1.000000, -1.000000, 1.000000, 0.361659, 0.426084, 1.000000, 0.714237, 0.498019, -1.000000 ]
	},
	"rho" : [ -1.334461 ],
	"nSV" : [ 10 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 26 ]
}
}
WRITING_JSON_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_tiny.json'

MLLITE_MODEL_SET_OPTIONS SVR None
MLLITE_MODEL_OPTIONS_DEFAULT SVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING SVR { ,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING SVR None
MLLITE_RELOADING_MODEL mllite_svm_reg.SVR_ff4_ff4
{
	"metadata" : { "model" : "Vapnik_SVR_RBF", "version" : "2024-W12", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "epsilon_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.100000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 16, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 10,
	"SupportVectors" : {
		"SV_0" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_1" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_2" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_3" : [ 34.347893, 205.928116, 0.720020, 9.414678 ],
		"SV_4" : [ 63.010204, 221.354385, 0.814630, 5.897069 ],
		"SV_5" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_6" : [ 13.280704, 643.716797, 0.520814, 4.842079 ],
		"SV_7" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_8" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
		"SV_9" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -1.000000, -1.000000, -1.000000, 1.000000, 0.361659, 0.426084, 1.000000, 0.714237, 0.498019, -1.000000 ]
	},
	"rho" : [ -1.334461 ],
	"nSV" : [ 10 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 26 ]
}
}
BEAUTIFIED_JSON_START
{
	"dataset" : 	{
		"dataset_features" : 4,
		"dataset_rows" : 16
	},
	"metadata" :  { "model" : "Vapnik_SVR_RBF", "signature" : "ff4_ff4", "version" : "2024-W12" },
	"options" :  { "C" : 1.0, "cache_size" : 300, "coef0" : 0.0, "degree" : 3, "epsilon" : 0.1, "gamma" : 1e-06, "kernel" : "rbf", "max_iter" : 128, "nu" : 0.5, "probability" : 0, "random_state" : 1789, "shrinking" : 0, "svm_type" : "epsilon_svr", "tol" : 0.001 },
	"svm_model" : 	{
		"L" : 10,
		"SupportVectors" : 	{
			"SV_0" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
			"SV_1" : [ 69.79232, 473.447937, 0.233546, 3.411072 ],
			"SV_2" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
			"SV_3" : [ 34.347893, 205.928116, 0.72002, 9.414678 ],
			"SV_4" : [ 63.010204, 221.354385, 0.81463, 5.897069 ],
			"SV_5" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
			"SV_6" : [ 13.280704, 643.716797, 0.520814, 4.842079 ],
			"SV_7" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
			"SV_8" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
			"SV_9" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ]
		},
		"SupportVectorsCoefs" : 	{
			"SV_coef_0" : [ -1.0, -1.0, -1.0, 1.0, 0.361659, 0.426084, 1.0, 0.714237, 0.498019, -1.0 ]
		},
		"classes" : 2,
		"nSV" : [ 10 ],
		"n_iter" : [ 26 ],
		"probA" : [  ],
		"probB" : [  ],
		"rho" : [ -1.334461 ]
	}
}
BEAUTIFIED_JSON_END
('OPERATION_START', 'PREDICT')
[1.2053242 1.1288011 1.2183146 1.418939  1.4367855 1.2494164 1.3795471
 1.1361053 1.13507   1.4521105 1.3093204 1.4613924 1.4596022 1.30475
 1.4560919 1.4643303]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
('OPERATION_START', 'PREDICT')
[1.2267516 1.167964  1.2352648 1.3828666 1.4007576 1.2563694 1.3484925
 1.1747811 1.1744354 1.4701763 1.2972667 1.4300611 1.4341878 1.2937517
 1.470896  1.4566153]
('OPERATION_END_ELAPSED', 0.0, 'PREDICT')
MODEL_PERFS {'class_name': 'mllite.SVR', 'model_name': 'SVR', 'options': None, 'dataset': 'freidman3_tiny', 'size': 16, 'mse': 0.028676977, 'mae': 0.13992897, 'mape': 0.11734506, 'r2': 0.37576113367017794}
WRITING_PERF_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_tiny.perf'

MODEL_PERFS_TIMINGS {'class_name': 'mllite.SVR', 'model_name': 'SVR', 'options': None, 'dataset': 'freidman3_tiny', 'training_time_in_sec': 0.006, 'prediction_time_in_sec': 0.0}
WRITING_SQL_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_tiny.sql'



SQL_OUT_PUT_FIRST_LINES_START
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -1.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -1.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -1.000000 AS "coeff", 52.067585 AS "sv_0", 534.256165 AS "sv_1", 0.155164 AS "sv_2", 8.526538 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 1.000000 AS "coeff", 34.347893 AS "sv_0", 205.928116 AS "sv_1", 0.720020 AS "sv_2", 9.4146
SQL_OUT_PUT_FIRST_LINES_END
SQL_OUT_PUT_LAST_LINES_START
266418 AS "sv_1", 0.852323 AS "sv_2", 6.919084 AS "sv_3"
     UNION ALL
     SELECT 9 AS "sv_idx", -1.000000 AS "coeff", 38.088467 AS "sv_0", 1321.297485 AS "sv_1", 0.052941 AS "sv_2", 10.429984 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -1.334461 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  exp(min(max(-32.0, -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2))), 32.0))  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END




COPY_TRAINING_DATA_TO_SQLITE_START
          X_0          X_1       X_2        X_3  KEY
0   17.761709   423.498322  0.135270  10.148129    0
1   45.437614   168.841202  0.343817   3.279963    1
2   69.792320   473.447937  0.233546   3.411072    2
3   67.667091   938.672607  0.652046   9.523154    3
4   55.118420  1002.086060  0.726658   4.570618    4
5   52.067585   534.256165  0.155164   8.526538    5
6   50.992905   814.561340  0.257439   5.994627    6
7   34.347893   205.928116  0.720020   9.414678    7
8   63.010204   221.354385  0.814630   5.897069    8
9   22.605108  1660.837036  0.731124   9.374556    9
10  13.280704   643.716797  0.520814   4.842079   10
11   7.606344  1112.226562  0.732761   6.140375   11
12  51.401745  1161.331543  0.618557   2.218271   12
13  94.566437   663.266418  0.852323   6.919084   13
14  14.282172  1575.160400  0.428596   4.169882   14
15  38.088467  1321.297485  0.052941  10.429984   15
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
    index  Estimator
0       0   1.226752
1       1   1.167964
2       2   1.235265
3       3   1.382867
4       4   1.400758
5       5   1.256369
6       6   1.348493
7       7   1.174781
8       8   1.174436
9       9   1.470176
10     10   1.297267
11     11   1.430061
12     12   1.434188
13     13   1.293752
14     14   1.470896
15     15   1.456615
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
    index  SQL_Estimator  Py_Estimator
0       0       1.226752      1.205324
1       1       1.167964      1.128801
2       2       1.235265      1.218315
3       3       1.382867      1.418939
4       4       1.400758      1.436785
5       5       1.256369      1.249416
6       6       1.348493      1.379547
7       7       1.174781      1.136105
8       8       1.174436      1.135070
9       9       1.470176      1.452111
10     10       1.297267      1.309320
11     11       1.430061      1.461392
12     12       1.434188      1.459602
13     13       1.293752      1.304750
14     14       1.470896      1.456092
15     15       1.456615      1.464330
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
