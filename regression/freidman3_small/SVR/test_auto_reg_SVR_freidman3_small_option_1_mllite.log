          X_0          X_1       X_2        X_3    target
0   17.761710   423.498320  0.135270  10.148129  1.270144
1   45.437614   168.841197  0.343817   3.279963  0.906663
2   69.792322   473.447926  0.233546   3.411073  1.007753
3   67.667095   938.672588  0.652046   9.523154  1.460687
4   55.118421  1002.086076  0.726658   4.570617  1.495246
..        ...          ...       ...        ...       ...
59  82.923828  1535.997616  0.287537   7.396835  1.385201
60  17.167281  1104.656206  0.421381   6.591000  1.533932
61  48.198019   353.104245  0.725143  10.405507  1.384737
62  17.373148   483.680246  0.685229   2.728044  1.518426
63   7.321981   487.752848  0.993317   5.340956  1.555685

[64 rows x 5 columns]
MLLITE_MODEL_SET_OPTIONS SVR {"C" : 2}
MLLITE_MODEL_OPTIONS_DEFAULT SVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING SVR { "C" : 2,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING SVR None
('OPERATION_START', 'TRAINING')
[[1.77617092e+01 4.23498322e+02 1.35270208e-01 1.01481285e+01]
 [4.54376144e+01 1.68841202e+02 3.43817413e-01 3.27996254e+00]
 [6.97923203e+01 4.73447937e+02 2.33546272e-01 3.41107249e+00]
 [6.76670914e+01 9.38672607e+02 6.52046204e-01 9.52315426e+00]
 [5.51184196e+01 1.00208606e+03 7.26658285e-01 4.57061768e+00]] [1.2701445 0.9066629 1.0077531 1.4606868 1.4952464]
MLLITE_FIT_USING_MODEL mllite_svm_reg.SVR_ff4_ff4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 1 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 2 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 3 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 12 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 24 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 36 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 48 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 60 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 72 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 84 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 96 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 108 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 120 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:SVR_Global' 128 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_REGRESSOR_FIT' 4 4
('OPERATION_END_ELAPSED', 0.017, 'TRAINING')
{ "C" : 2,  "max_iter" : 128  , }
{ "C" : 2,  "max_iter" : 128  , }
{
	"metadata" : { "model" : "Vapnik_SVR_RBF", "version" : "2024-W13", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "epsilon_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.100000, "shrinking" : 0, "probability" : 0, "C" : 2.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 64, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 27,
	"SupportVectors" : {
		"SV_00" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_01" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_02" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_03" : [ 34.347893, 205.928116, 0.720020, 9.414678 ],
		"SV_04" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_05" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
		"SV_06" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_07" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_08" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
		"SV_09" : [ 7.737632, 682.638123, 0.943330, 1.569080 ],
		"SV_10" : [ 22.116344, 1162.774048, 0.675740, 4.934592 ],
		"SV_11" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
		"SV_12" : [ 95.999474, 1121.298950, 0.682591, 3.437388 ],
		"SV_13" : [ 78.244774, 702.214600, 0.183212, 9.434527 ],
		"SV_14" : [ 18.503828, 532.344482, 0.721851, 10.655538 ],
		"SV_15" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
		"SV_16" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_17" : [ 72.844986, 208.134521, 0.953115, 4.121809 ],
		"SV_18" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
		"SV_19" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
		"SV_20" : [ 81.412109, 1254.374390, 0.194226, 8.164762 ],
		"SV_21" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
		"SV_22" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
		"SV_23" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ],
		"SV_24" : [ 48.198017, 353.104248, 0.725143, 10.405507 ],
		"SV_25" : [ 17.373148, 483.680237, 0.685229, 2.728044 ],
		"SV_26" : [ 7.321981, 487.752838, 0.993317, 5.340956 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -2.000000, -2.000000, -2.000000, 2.000000, 1.085338, 1.006512, -2.000000, -2.000000, -2.000000, 2.000000, 2.000000, 2.000000, 1.985404, -2.000000, 2.000000, -2.000000, 1.141068, 1.763918, -2.000000, 0.813920, -2.000000, -2.000000, 0.203841, -2.000000, 2.000000, 2.000000, 2.000000 ]
	},
	"rho" : [ -1.292654 ],
	"nSV" : [ 27 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 128 ]
}
}
WRITING_JSON_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_small_option_1.json'

MLLITE_MODEL_SET_OPTIONS SVR {"C" : 2}
MLLITE_MODEL_OPTIONS_DEFAULT SVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING SVR { "C" : 2,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING SVR None
MLLITE_RELOADING_MODEL mllite_svm_reg.SVR_ff4_ff4
{
	"metadata" : { "model" : "Vapnik_SVR_RBF", "version" : "2024-W13", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "epsilon_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.100000, "shrinking" : 0, "probability" : 0, "C" : 2.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 64, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 27,
	"SupportVectors" : {
		"SV_00" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_01" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_02" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_03" : [ 34.347893, 205.928116, 0.720020, 9.414678 ],
		"SV_04" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_05" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
		"SV_06" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_07" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_08" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
		"SV_09" : [ 7.737632, 682.638123, 0.943330, 1.569080 ],
		"SV_10" : [ 22.116344, 1162.774048, 0.675740, 4.934592 ],
		"SV_11" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
		"SV_12" : [ 95.999474, 1121.298950, 0.682591, 3.437388 ],
		"SV_13" : [ 78.244774, 702.214600, 0.183212, 9.434527 ],
		"SV_14" : [ 18.503828, 532.344482, 0.721851, 10.655538 ],
		"SV_15" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
		"SV_16" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_17" : [ 72.844986, 208.134521, 0.953115, 4.121809 ],
		"SV_18" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
		"SV_19" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
		"SV_20" : [ 81.412109, 1254.374390, 0.194226, 8.164762 ],
		"SV_21" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
		"SV_22" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
		"SV_23" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ],
		"SV_24" : [ 48.198017, 353.104248, 0.725143, 10.405507 ],
		"SV_25" : [ 17.373148, 483.680237, 0.685229, 2.728044 ],
		"SV_26" : [ 7.321981, 487.752838, 0.993317, 5.340956 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -2.000000, -2.000000, -2.000000, 2.000000, 1.085338, 1.006512, -2.000000, -2.000000, -2.000000, 2.000000, 2.000000, 2.000000, 1.985404, -2.000000, 2.000000, -2.000000, 1.141068, 1.763918, -2.000000, 0.813920, -2.000000, -2.000000, 0.203841, -2.000000, 2.000000, 2.000000, 2.000000 ]
	},
	"rho" : [ -1.292654 ],
	"nSV" : [ 27 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 128 ]
}
}
BEAUTIFIED_JSON_START
{
	"dataset" : 	{
		"dataset_features" : 4,
		"dataset_rows" : 64
	},
	"metadata" :  { "model" : "Vapnik_SVR_RBF", "signature" : "ff4_ff4", "version" : "2024-W13" },
	"options" :  { "C" : 2.0, "cache_size" : 300, "coef0" : 0.0, "degree" : 3, "epsilon" : 0.1, "gamma" : 1e-06, "kernel" : "rbf", "max_iter" : 128, "nu" : 0.5, "probability" : 0, "random_state" : 1789, "shrinking" : 0, "svm_type" : "epsilon_svr", "tol" : 0.001 },
	"svm_model" : 	{
		"L" : 27,
		"SupportVectors" : 	{
			"SV_00" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
			"SV_01" : [ 69.79232, 473.447937, 0.233546, 3.411072 ],
			"SV_02" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
			"SV_03" : [ 34.347893, 205.928116, 0.72002, 9.414678 ],
			"SV_04" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
			"SV_05" : [ 94.566437, 663.266418, 0.852323, 6.919084 ],
			"SV_06" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
			"SV_07" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
			"SV_08" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
			"SV_09" : [ 7.737632, 682.638123, 0.94333, 1.56908 ],
			"SV_10" : [ 22.116344, 1162.774048, 0.67574, 4.934592 ],
			"SV_11" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
			"SV_12" : [ 95.999474, 1121.29895, 0.682591, 3.437388 ],
			"SV_13" : [ 78.244774, 702.2146, 0.183212, 9.434527 ],
			"SV_14" : [ 18.503828, 532.344482, 0.721851, 10.655538 ],
			"SV_15" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
			"SV_16" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
			"SV_17" : [ 72.844986, 208.134521, 0.953115, 4.121809 ],
			"SV_18" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
			"SV_19" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
			"SV_20" : [ 81.412109, 1254.37439, 0.194226, 8.164762 ],
			"SV_21" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
			"SV_22" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
			"SV_23" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ],
			"SV_24" : [ 48.198017, 353.104248, 0.725143, 10.405507 ],
			"SV_25" : [ 17.373148, 483.680237, 0.685229, 2.728044 ],
			"SV_26" : [ 7.321981, 487.752838, 0.993317, 5.340956 ]
		},
		"SupportVectorsCoefs" : 	{
			"SV_coef_0" : [ -2.0, -2.0, -2.0, 2.0, 1.085338, 1.006512, -2.0, -2.0, -2.0, 2.0, 2.0, 2.0, 1.985404, -2.0, 2.0, -2.0, 1.141068, 1.763918, -2.0, 0.81392, -2.0, -2.0, 0.203841, -2.0, 2.0, 2.0, 2.0 ]
		},
		"classes" : 2,
		"nSV" : [ 27 ],
		"n_iter" : [ 128 ],
		"probA" : [  ],
		"probB" : [  ],
		"rho" : [ -1.292654 ]
	}
}
BEAUTIFIED_JSON_END
('OPERATION_START', 'PREDICT')
[1.3274467 1.1325082 1.2712115 1.3836012 1.4019495 1.327855  1.4027026
 1.1700208 1.1405292 1.4685116 1.4309424 1.4611396 1.4028157 1.303704
 1.4620004 1.4187611 1.3124465 1.4556997 1.2465286 1.1582234 1.3648138
 1.1473293 1.4804277 1.35282   1.4502914 1.4392393 1.4319607 1.3715826
 1.3138762 1.3490286 1.4510623 1.3456031 1.292532  1.3520461 1.391074
 1.340314  1.2855607 1.3814049 1.3876612 1.0468825 1.464863  1.1196243
 1.3887941 1.417019  1.4275389 1.277343  1.4261715 1.3685352 1.3380146
 1.3424307 1.4337277 1.4244915 1.4626982 1.4408758 1.4483399 1.2949353
 1.4101679 1.1764385 1.3591442 1.4052687 1.4492877 1.2403374 1.3596437
 1.3778346]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
('OPERATION_START', 'PREDICT')
[1.2730093 1.1337674 1.2345374 1.3782864 1.4036423 1.2788249 1.3692468
 1.1603888 1.137928  1.4955782 1.3633256 1.4678348 1.4308299 1.2749436
 1.4960409 1.4601815 1.2884265 1.4744929 1.2154744 1.1495813 1.3023105
 1.1431774 1.4531785 1.3423185 1.3822958 1.4590963 1.4128054 1.3369113
 1.2650619 1.2891611 1.463896  1.3811961 1.2608854 1.3211484 1.4405468
 1.306365  1.248106  1.3169665 1.3313242 1.0701011 1.4974957 1.1227415
 1.3371875 1.452567  1.4621022 1.2443842 1.4011887 1.4149531 1.2947974
 1.2885379 1.4743242 1.3797858 1.4267262 1.3739859 1.4738562 1.2497499
 1.4478772 1.1626501 1.3800132 1.4489075 1.4575397 1.2091252 1.2984279
 1.3116974]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
MODEL_PERFS {'class_name': 'mllite.SVR', 'model_name': 'SVR', 'options': '{"C" : 2}', 'dataset': 'freidman3_small', 'size': 64, 'mse': 0.077200145, 'mae': 0.154936, 'mape': 1.1799257, 'r2': 0.2103766533231166}
WRITING_PERF_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_small_option_1.perf'

MODEL_PERFS_TIMINGS {'class_name': 'mllite.SVR', 'model_name': 'SVR', 'options': '{"C" : 2}', 'dataset': 'freidman3_small', 'training_time_in_sec': 0.017, 'prediction_time_in_sec': 0.001}
WRITING_SQL_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_small_option_1_duckdb.sql'



SQL_OUT_PUT_FIRST_LINES_START ('freidman3_small', 'SVR', 'duckdb')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -2.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -2.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -2.000000 AS "coeff", 52.067585 AS "sv_0", 534.256165 AS "sv_1", 0.155164 AS "sv_2", 8.526538 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 2.000000 AS "coeff", 34.347893 AS "sv_0", 205.928116 AS "sv_1", 0.720020 AS "sv_2", 9.4146
SQL_OUT_PUT_FIRST_LINES_END ('freidman3_small', 'SVR', 'duckdb')
SQL_OUT_PUT_LAST_LINES_START ('freidman3_small', 'SVR', 'duckdb')
728044 AS "sv_3"
     UNION ALL
     SELECT 26 AS "sv_idx", 2.000000 AS "coeff", 7.321981 AS "sv_0", 487.752838 AS "sv_1", 0.993317 AS "sv_2", 5.340956 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -1.292654 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  EXP( LEAST( GREATEST( CAST(-32.0 AS FLOAT), -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2)) ), CAST(32.0 AS FLOAT) ) )  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END ('freidman3_small', 'SVR', 'duckdb') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 64 entries, 0 to 63
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     64 non-null     float32
 1   X_1     64 non-null     float32
 2   X_2     64 non-null     float32
 3   X_3     64 non-null     float32
dtypes: float32(4)
memory usage: 1.5 KB
             X_0          X_1       X_2        X_3
index                                             
0      17.761709   423.498322  0.135270  10.148129
1      45.437614   168.841202  0.343817   3.279963
2      69.792320   473.447937  0.233546   3.411072
3      67.667091   938.672607  0.652046   9.523154
4      55.118420  1002.086060  0.726658   4.570618
...          ...          ...       ...        ...
59     82.923828  1535.997559  0.287537   7.396835
60     17.167280  1104.656250  0.421381   6.591000
61     48.198017   353.104248  0.725143  10.405507
62     17.373148   483.680237  0.685229   2.728044
63      7.321981   487.752838  0.993317   5.340956

[64 rows x 4 columns]
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 64 entries, 0 to 63
Data columns (total 2 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   index      64 non-null     int64  
 1   Estimator  64 non-null     float64
dtypes: float64(1), int64(1)
memory usage: 1.1 KB
    index  Estimator
0       0   1.273009
1       1   1.133767
2       2   1.234537
3       3   1.378287
4       4   1.403643
..    ...        ...
59     59   1.448907
60     60   1.457540
61     61   1.209125
62     62   1.298428
63     63   1.311697

[64 rows x 2 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
MLLITE_REG_SQL_L1_ERROR ('freidman3_small', 'SVR') Estimator 0.03346029005225376
    index  SQL_Estimator  Py_Estimator  SQL_Error
48     48       1.294797      1.338015  -0.043217
49     49       1.288538      1.342431  -0.053892
50     50       1.474324      1.433728   0.040596
51     51       1.379786      1.424492  -0.044706
52     52       1.426726      1.462698  -0.035972
53     53       1.373986      1.440876  -0.066890
54     54       1.473856      1.448340   0.025516
55     55       1.249750      1.294935  -0.045185
56     56       1.447878      1.410168   0.037710
57     57       1.162649      1.176438  -0.013789
58     58       1.380013      1.359144   0.020869
59     59       1.448907      1.405269   0.043639
60     60       1.457540      1.449288   0.008252
61     61       1.209125      1.240337  -0.031212
62     62       1.298428      1.359644  -0.061215
63     63       1.311697      1.377835  -0.066137
MLLITE_REG_SQL_EXECUTION_STATUS ('freidman3_small', 'SVR', 'Failure')
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
WRITING_SQL_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_small_option_1_sqlite.sql'



SQL_OUT_PUT_FIRST_LINES_START ('freidman3_small', 'SVR', 'sqlite')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -2.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -2.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -2.000000 AS "coeff", 52.067585 AS "sv_0", 534.256165 AS "sv_1", 0.155164 AS "sv_2", 8.526538 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 2.000000 AS "coeff", 34.347893 AS "sv_0", 205.928116 AS "sv_1", 0.720020 AS "sv_2", 9.4146
SQL_OUT_PUT_FIRST_LINES_END ('freidman3_small', 'SVR', 'sqlite')
SQL_OUT_PUT_LAST_LINES_START ('freidman3_small', 'SVR', 'sqlite')
_2", 2.728044 AS "sv_3"
     UNION ALL
     SELECT 26 AS "sv_idx", 2.000000 AS "coeff", 7.321981 AS "sv_0", 487.752838 AS "sv_1", 0.993317 AS "sv_2", 5.340956 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -1.292654 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  EXP( MIN( MAX( CAST(-32.0 AS FLOAT), -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2)) ), CAST(32.0 AS FLOAT) ) )  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END ('freidman3_small', 'SVR', 'sqlite') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 64 entries, 0 to 63
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     64 non-null     float32
 1   X_1     64 non-null     float32
 2   X_2     64 non-null     float32
 3   X_3     64 non-null     float32
dtypes: float32(4)
memory usage: 1.5 KB
             X_0          X_1       X_2        X_3
index                                             
0      17.761709   423.498322  0.135270  10.148129
1      45.437614   168.841202  0.343817   3.279963
2      69.792320   473.447937  0.233546   3.411072
3      67.667091   938.672607  0.652046   9.523154
4      55.118420  1002.086060  0.726658   4.570618
...          ...          ...       ...        ...
59     82.923828  1535.997559  0.287537   7.396835
60     17.167280  1104.656250  0.421381   6.591000
61     48.198017   353.104248  0.725143  10.405507
62     17.373148   483.680237  0.685229   2.728044
63      7.321981   487.752838  0.993317   5.340956

[64 rows x 4 columns]
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 64 entries, 0 to 63
Data columns (total 2 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   index      64 non-null     int64  
 1   Estimator  64 non-null     float64
dtypes: float64(1), int64(1)
memory usage: 1.1 KB
    index  Estimator
0       0   1.273009
1       1   1.133767
2       2   1.234537
3       3   1.378287
4       4   1.403643
..    ...        ...
59     59   1.448908
60     60   1.457540
61     61   1.209126
62     62   1.298428
63     63   1.311697

[64 rows x 2 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
MLLITE_REG_SQL_L1_ERROR ('freidman3_small', 'SVR') Estimator 0.03346034717523641
    index  SQL_Estimator  Py_Estimator  SQL_Error
48     48       1.294797      1.338015  -0.043218
49     49       1.288538      1.342431  -0.053893
50     50       1.474324      1.433728   0.040597
51     51       1.379786      1.424492  -0.044706
52     52       1.426726      1.462698  -0.035972
53     53       1.373986      1.440876  -0.066890
54     54       1.473856      1.448340   0.025516
55     55       1.249750      1.294935  -0.045185
56     56       1.447878      1.410168   0.037710
57     57       1.162649      1.176438  -0.013789
58     58       1.380013      1.359144   0.020869
59     59       1.448908      1.405269   0.043639
60     60       1.457540      1.449288   0.008253
61     61       1.209126      1.240337  -0.031212
62     62       1.298428      1.359644  -0.061216
63     63       1.311697      1.377835  -0.066137
MLLITE_REG_SQL_EXECUTION_STATUS ('freidman3_small', 'SVR', 'Failure')
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
WRITING_SQL_CODE 'logs/auto_tests/regression/SVR/mllite.SVR_freidman3_small_option_1_pgsql.sql'



SQL_OUT_PUT_FIRST_LINES_START ('freidman3_small', 'SVR', 'pgsql')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -2.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -2.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -2.000000 AS "coeff", 52.067585 AS "sv_0", 534.256165 AS "sv_1", 0.155164 AS "sv_2", 8.526538 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 2.000000 AS "coeff", 34.347893 AS "sv_0", 205.928116 AS "sv_1", 0.720020 AS "sv_2", 9.4146
SQL_OUT_PUT_FIRST_LINES_END ('freidman3_small', 'SVR', 'pgsql')
SQL_OUT_PUT_LAST_LINES_START ('freidman3_small', 'SVR', 'pgsql')
728044 AS "sv_3"
     UNION ALL
     SELECT 26 AS "sv_idx", 2.000000 AS "coeff", 7.321981 AS "sv_0", 487.752838 AS "sv_1", 0.993317 AS "sv_2", 5.340956 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -1.292654 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  EXP( LEAST( GREATEST( CAST(-32.0 AS FLOAT), -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2)) ), CAST(32.0 AS FLOAT) ) )  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END ('freidman3_small', 'SVR', 'pgsql') 




COPY_TRAINING_DATA_TO_SQLITE_START
