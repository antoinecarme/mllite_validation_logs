          X_0          X_1       X_2        X_3      target
0   17.761710   423.498320  0.135270  10.148129   59.976816
1   45.437614   168.841197  0.343817   3.279963   73.717247
2   69.792322   473.447926  0.233546   3.411073  130.755488
3   67.667095   938.672588  0.652046   9.523154  615.786950
4   55.118421  1002.086076  0.726658   4.570617  730.257013
..        ...          ...       ...        ...         ...
59  82.923828  1535.997616  0.287537   7.396835  449.374075
60  17.167281  1104.656206  0.421381   6.591000  465.797999
61  48.198019   353.104245  0.725143  10.405507  260.547767
62  17.373148   483.680246  0.685229   2.728044  331.885863
63   7.321981   487.752848  0.993317   5.340956  484.548354

[64 rows x 5 columns]
MLLITE_MODEL_SET_OPTIONS NuSVR None
MLLITE_MODEL_OPTIONS_DEFAULT NuSVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVR { ,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVR None
('OPERATION_START', 'TRAINING')
[[1.77617092e+01 4.23498322e+02 1.35270208e-01 1.01481285e+01]
 [4.54376144e+01 1.68841202e+02 3.43817413e-01 3.27996254e+00]
 [6.97923203e+01 4.73447937e+02 2.33546272e-01 3.41107249e+00]
 [6.76670914e+01 9.38672607e+02 6.52046204e-01 9.52315426e+00]
 [5.51184196e+01 1.00208606e+03 7.26658285e-01 4.57061768e+00]] [ 59.976818  73.71725  130.7555   615.7869   730.257   ]
MLLITE_FIT_USING_MODEL mllite_nu_svm_reg.NuSVR_ff4_ff4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 1 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 2 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 3 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:NuSVR_Global' 12 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:NuSVR_Global' 24 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 4 4
('OPERATION_END_ELAPSED', 0.015, 'TRAINING')
{ ,  "max_iter" : 128  , }
{ ,  "max_iter" : 128  , }
{
	"metadata" : { "model" : "Vapnik_NuSVR_RBF", "version" : "2024-W14", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "nu_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 64, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 32,
	"SupportVectors" : {
		"SV_00" : [ 17.761709, 423.498322, 0.135270, 10.148129 ],
		"SV_01" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_02" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_03" : [ 55.118420, 1002.086060, 0.726658, 4.570618 ],
		"SV_04" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_05" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_06" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_07" : [ 51.401745, 1161.331543, 0.618557, 2.218271 ],
		"SV_08" : [ 14.282172, 1575.160400, 0.428596, 4.169882 ],
		"SV_09" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_10" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_11" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
		"SV_12" : [ 55.340031, 215.592316, 0.588332, 4.610499 ],
		"SV_13" : [ 2.070305, 957.545105, 0.737876, 2.535709 ],
		"SV_14" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
		"SV_15" : [ 7.737632, 682.638123, 0.943330, 1.569080 ],
		"SV_16" : [ 22.116344, 1162.774048, 0.675740, 4.934592 ],
		"SV_17" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
		"SV_18" : [ 11.179132, 444.204834, 0.202220, 7.809537 ],
		"SV_19" : [ 95.999474, 1121.298950, 0.682591, 3.437388 ],
		"SV_20" : [ 74.577126, 1412.240356, 0.582418, 4.633062 ],
		"SV_21" : [ 78.244774, 702.214600, 0.183212, 9.434527 ],
		"SV_22" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
		"SV_23" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_24" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
		"SV_25" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
		"SV_26" : [ 76.371201, 1620.264648, 0.622375, 3.062019 ],
		"SV_27" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
		"SV_28" : [ 11.772216, 671.264099, 0.172757, 1.573729 ],
		"SV_29" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
		"SV_30" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
		"SV_31" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, 1.000000, -1.000000, -1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, -1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000 ]
	},
	"rho" : [ -401.614075 ],
	"nSV" : [ 32 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 29 ]
}
}
WRITING_JSON_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_small.json'

MLLITE_MODEL_SET_OPTIONS NuSVR None
MLLITE_MODEL_OPTIONS_DEFAULT NuSVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVR { ,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVR None
MLLITE_RELOADING_MODEL mllite_nu_svm_reg.NuSVR_ff4_ff4
{
	"metadata" : { "model" : "Vapnik_NuSVR_RBF", "version" : "2024-W14", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "nu_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.500000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 64, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 32,
	"SupportVectors" : {
		"SV_00" : [ 17.761709, 423.498322, 0.135270, 10.148129 ],
		"SV_01" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_02" : [ 69.792320, 473.447937, 0.233546, 3.411072 ],
		"SV_03" : [ 55.118420, 1002.086060, 0.726658, 4.570618 ],
		"SV_04" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
		"SV_05" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_06" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
		"SV_07" : [ 51.401745, 1161.331543, 0.618557, 2.218271 ],
		"SV_08" : [ 14.282172, 1575.160400, 0.428596, 4.169882 ],
		"SV_09" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_10" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_11" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
		"SV_12" : [ 55.340031, 215.592316, 0.588332, 4.610499 ],
		"SV_13" : [ 2.070305, 957.545105, 0.737876, 2.535709 ],
		"SV_14" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
		"SV_15" : [ 7.737632, 682.638123, 0.943330, 1.569080 ],
		"SV_16" : [ 22.116344, 1162.774048, 0.675740, 4.934592 ],
		"SV_17" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
		"SV_18" : [ 11.179132, 444.204834, 0.202220, 7.809537 ],
		"SV_19" : [ 95.999474, 1121.298950, 0.682591, 3.437388 ],
		"SV_20" : [ 74.577126, 1412.240356, 0.582418, 4.633062 ],
		"SV_21" : [ 78.244774, 702.214600, 0.183212, 9.434527 ],
		"SV_22" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
		"SV_23" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_24" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
		"SV_25" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
		"SV_26" : [ 76.371201, 1620.264648, 0.622375, 3.062019 ],
		"SV_27" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
		"SV_28" : [ 11.772216, 671.264099, 0.172757, 1.573729 ],
		"SV_29" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
		"SV_30" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
		"SV_31" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ -1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, 1.000000, -1.000000, -1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, -1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000, 1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -1.000000 ]
	},
	"rho" : [ -401.614075 ],
	"nSV" : [ 32 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 29 ]
}
}
BEAUTIFIED_JSON_START
{
	"dataset" : 	{
		"dataset_features" : 4,
		"dataset_rows" : 64
	},
	"metadata" :  { "model" : "Vapnik_NuSVR_RBF", "signature" : "ff4_ff4", "version" : "2024-W14" },
	"options" :  { "C" : 1.0, "cache_size" : 300, "coef0" : 0.0, "degree" : 3, "epsilon" : 0.0, "gamma" : 1e-06, "kernel" : "rbf", "max_iter" : 128, "nu" : 0.5, "probability" : 0, "random_state" : 1789, "shrinking" : 0, "svm_type" : "nu_svr", "tol" : 0.001 },
	"svm_model" : 	{
		"L" : 32,
		"SupportVectors" : 	{
			"SV_00" : [ 17.761709, 423.498322, 0.13527, 10.148129 ],
			"SV_01" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
			"SV_02" : [ 69.79232, 473.447937, 0.233546, 3.411072 ],
			"SV_03" : [ 55.11842, 1002.08606, 0.726658, 4.570618 ],
			"SV_04" : [ 52.067585, 534.256165, 0.155164, 8.526538 ],
			"SV_05" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
			"SV_06" : [ 7.606344, 1112.226562, 0.732761, 6.140375 ],
			"SV_07" : [ 51.401745, 1161.331543, 0.618557, 2.218271 ],
			"SV_08" : [ 14.282172, 1575.1604, 0.428596, 4.169882 ],
			"SV_09" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
			"SV_10" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
			"SV_11" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
			"SV_12" : [ 55.340031, 215.592316, 0.588332, 4.610499 ],
			"SV_13" : [ 2.070305, 957.545105, 0.737876, 2.535709 ],
			"SV_14" : [ 85.409492, 865.747681, 0.002107, 1.657108 ],
			"SV_15" : [ 7.737632, 682.638123, 0.94333, 1.56908 ],
			"SV_16" : [ 22.116344, 1162.774048, 0.67574, 4.934592 ],
			"SV_17" : [ 65.455681, 755.864746, 0.990681, 3.455762 ],
			"SV_18" : [ 11.179132, 444.204834, 0.20222, 7.809537 ],
			"SV_19" : [ 95.999474, 1121.29895, 0.682591, 3.437388 ],
			"SV_20" : [ 74.577126, 1412.240356, 0.582418, 4.633062 ],
			"SV_21" : [ 78.244774, 702.2146, 0.183212, 9.434527 ],
			"SV_22" : [ 97.541664, 130.009232, 0.366127, 5.345118 ],
			"SV_23" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
			"SV_24" : [ 44.357746, 674.885315, 0.220269, 3.032311 ],
			"SV_25" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
			"SV_26" : [ 76.371201, 1620.264648, 0.622375, 3.062019 ],
			"SV_27" : [ 39.016674, 895.294678, 0.992031, 3.333866 ],
			"SV_28" : [ 11.772216, 671.264099, 0.172757, 1.573729 ],
			"SV_29" : [ 39.873802, 428.048248, 0.235384, 2.176043 ],
			"SV_30" : [ 44.762737, 1255.201538, 0.591546, 2.754247 ],
			"SV_31" : [ 85.125381, 1049.026855, 0.039136, 3.186899 ]
		},
		"SupportVectorsCoefs" : 	{
			"SV_coef_0" : [ -1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, 1.0, -1.0, 1.0, 1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, 1.0, -1.0, -1.0, 1.0, -1.0 ]
		},
		"classes" : 2,
		"nSV" : [ 32 ],
		"n_iter" : [ 29 ],
		"probA" : [  ],
		"probB" : [  ],
		"rho" : [ -401.614075 ]
	}
}
BEAUTIFIED_JSON_END
('OPERATION_START', 'PREDICT')
[394.4498  393.4951  394.91028 402.58548 403.76776 395.6188  400.22882
 393.4839  393.48618 409.41855 397.22028 405.66507 406.4123  397.5178
 409.51736 408.34518 398.41415 409.06436 394.60452 393.6482  395.077
 393.48175 402.95975 401.19205 397.86588 406.43817 402.50043 399.13232
 394.9061  394.64304 406.01987 405.7752  396.70697 398.92862 409.02283
 398.1744  395.52478 395.61194 397.06836 393.58105 409.514   393.48166
 397.7143  409.46527 409.48367 395.87378 401.77185 407.62097 396.91022
 395.49722 408.66113 399.67865 401.66525 397.67178 409.3155  394.47473
 407.6517  393.79007 404.5871  409.4706  405.54456 393.9212  395.039
 395.09335]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
('OPERATION_START', 'PREDICT')
[395.67096 394.36523 396.10742 402.32175 403.261   396.73553 400.46652
 394.4512  394.49133 408.80685 398.06912 404.8049  405.43164 398.3111
 408.66626 407.16995 399.03067 408.75735 395.8227  394.78912 396.25427
 394.47397 402.61694 401.22424 398.59045 405.45377 402.2534  399.60236
 396.1041  395.8539  405.10065 404.90155 397.64905 399.4409  407.88477
 398.84055 396.65274 396.72617 397.94785 394.3256  408.70932 394.4537
 398.47177 408.74533 408.75415 396.95126 401.679   406.49573 397.8187
 396.62964 407.48776 400.033   401.5945  398.43472 408.80975 395.6999
 406.518   394.97366 403.9233  408.53018 404.70413 395.13135 396.2206
 396.2668 ]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
MODEL_PERFS {'class_name': 'mllite.NuSVR', 'model_name': 'NuSVR', 'options': None, 'dataset': 'freidman2_small', 'size': 64, 'mse': 116321.84, 'mae': 260.1505, 'mape': 1.1507671, 'r2': 0.010735698665966131}
WRITING_PERF_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_small.perf'

MODEL_PERFS_TIMINGS {'class_name': 'mllite.NuSVR', 'model_name': 'NuSVR', 'options': None, 'dataset': 'freidman2_small', 'training_time_in_sec': 0.015, 'prediction_time_in_sec': 0.001}

MODEL_EXPLANATION_START
PROGRESS_REPORT_ELAPSED_TOTAL 'MONTE_CARLO_REGRESSION_EXPLAINER' 0 4
PROGRESS_REPORT_ELAPSED_TOTAL 'MONTE_CARLO_REGRESSION_EXPLAINER' 1 4
PROGRESS_REPORT_ELAPSED_TOTAL 'MONTE_CARLO_REGRESSION_EXPLAINER' 2 4
PROGRESS_REPORT_ELAPSED_TOTAL 'MONTE_CARLO_REGRESSION_EXPLAINER' 3 4
{
   "Contributions" : {
      "X_0" : [ -0.002669 ],
      "X_1" : [ -1.763834 ],
      "X_2" : [ 0.000001 ],
      "X_3" : [ -0.000006 ]   
   },
   "Most_Contributive_Features" : {
      "y" : [ 1, 0, 3, 2 ]
   }
}
WRITING_EXPLAIN_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_small_explain.json'

MODEL_EXPLANATION_END
WRITING_SQL_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_small_duckdb.sql'



SQL_OUT_PUT_FIRST_LINES_START ('freidman2_small', 'NuSVR', 'duckdb')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "freidman2_small" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -1.000000 AS "coeff", 17.761709 AS "sv_0", 423.498322 AS "sv_1", 0.135270 AS "sv_2", 10.148129 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -1.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -1.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 1.000000 AS "coeff", 55.118420 AS "sv_0", 1002.086060 AS "sv_1", 0.726658 AS "sv_2", 4.57061
SQL_OUT_PUT_FIRST_LINES_END ('freidman2_small', 'NuSVR', 'duckdb')
SQL_OUT_PUT_LAST_LINES_START ('freidman2_small', 'NuSVR', 'duckdb')
7 AS "sv_3"
     UNION ALL
     SELECT 31 AS "sv_idx", -1.000000 AS "coeff", 85.125381 AS "sv_0", 1049.026855 AS "sv_1", 0.039136 AS "sv_2", 3.186899 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -401.614075 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  EXP( LEAST( GREATEST( CAST(-32.0 AS FLOAT), -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2)) ), CAST(32.0 AS FLOAT) ) )  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END ('freidman2_small', 'NuSVR', 'duckdb') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 64 entries, 0 to 63
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     64 non-null     float32
 1   X_1     64 non-null     float32
 2   X_2     64 non-null     float32
 3   X_3     64 non-null     float32
dtypes: float32(4)
memory usage: 1.5 KB
             X_0          X_1       X_2        X_3
index                                             
0      17.761709   423.498322  0.135270  10.148129
1      45.437614   168.841202  0.343817   3.279963
2      69.792320   473.447937  0.233546   3.411072
3      67.667091   938.672607  0.652046   9.523154
4      55.118420  1002.086060  0.726658   4.570618
...          ...          ...       ...        ...
59     82.923828  1535.997559  0.287537   7.396835
60     17.167280  1104.656250  0.421381   6.591000
61     48.198017   353.104248  0.725143  10.405507
62     17.373148   483.680237  0.685229   2.728044
63      7.321981   487.752838  0.993317   5.340956

[64 rows x 4 columns]
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 64 entries, 0 to 63
Data columns (total 2 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   index      64 non-null     int64  
 1   Estimator  64 non-null     float64
dtypes: float64(1), int64(1)
memory usage: 1.1 KB
    index   Estimator
0       0  395.670964
1       1  394.365241
2       2  396.107425
3       3  402.321738
4       4  403.260979
..    ...         ...
59     59  408.530190
60     60  404.704137
61     61  395.131335
62     62  396.220617
63     63  396.266827

[64 rows x 2 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
MLLITE_REG_SQL_L1_ERROR ('freidman2_small', 'NuSVR') Estimator 0.8410336765063953
    index  SQL_Estimator  Py_Estimator  SQL_Error
48     48     397.818683    396.910217   0.908466
49     49     396.629634    395.497223   1.132411
50     50     407.487766    408.661133  -1.173367
51     51     400.032992    399.678650   0.354342
52     52     401.594522    401.665253  -0.070731
53     53     398.434718    397.671783   0.762934
54     54     408.809760    409.315491  -0.505730
55     55     395.699882    394.474731   1.225151
56     56     406.518020    407.651703  -1.133683
57     57     394.973667    393.790070   1.183597
58     58     403.923306    404.587097  -0.663791
59     59     408.530190    409.470612  -0.940421
60     60     404.704137    405.544556  -0.840418
61     61     395.131335    393.921204   1.210132
62     62     396.220617    395.039001   1.181616
63     63     396.266827    395.093353   1.173474
MLLITE_REG_SQL_EXECUTION_STATUS ('freidman2_small', 'NuSVR', 'Failure')
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
WRITING_SQL_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_small_sqlite.sql'



SQL_OUT_PUT_FIRST_LINES_START ('freidman2_small', 'NuSVR', 'sqlite')
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "freidman2_small" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", -1.000000 AS "coeff", 17.761709 AS "sv_0", 423.498322 AS "sv_1", 0.135270 AS "sv_2", 10.148129 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", -1.000000 AS "coeff", 45.437614 AS "sv_0", 168.841202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -1.000000 AS "coeff", 69.792320 AS "sv_0", 473.447937 AS "sv_1", 0.233546 AS "sv_2", 3.411072 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", 1.000000 AS "coeff", 55.118420 AS "sv_0", 1002.086060 AS "sv_1", 0.726658 AS "sv_2", 4.57061
SQL_OUT_PUT_FIRST_LINES_END ('freidman2_small', 'NuSVR', 'sqlite')
SQL_OUT_PUT_LAST_LINES_START ('freidman2_small', 'NuSVR', 'sqlite')
2.754247 AS "sv_3"
     UNION ALL
     SELECT 31 AS "sv_idx", -1.000000 AS "coeff", 85.125381 AS "sv_0", 1049.026855 AS "sv_1", 0.039136 AS "sv_2", 3.186899 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -401.614075 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  EXP( MIN( MAX( CAST(-32.0 AS FLOAT), -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2)) ), CAST(32.0 AS FLOAT) ) )  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END ('freidman2_small', 'NuSVR', 'sqlite') 




COPY_TRAINING_DATA_TO_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
Index: 64 entries, 0 to 63
Data columns (total 4 columns):
 #   Column  Non-Null Count  Dtype  
---  ------  --------------  -----  
 0   X_0     64 non-null     float32
 1   X_1     64 non-null     float32
 2   X_2     64 non-null     float32
 3   X_3     64 non-null     float32
dtypes: float32(4)
memory usage: 1.5 KB
             X_0          X_1       X_2        X_3
index                                             
0      17.761709   423.498322  0.135270  10.148129
1      45.437614   168.841202  0.343817   3.279963
2      69.792320   473.447937  0.233546   3.411072
3      67.667091   938.672607  0.652046   9.523154
4      55.118420  1002.086060  0.726658   4.570618
...          ...          ...       ...        ...
59     82.923828  1535.997559  0.287537   7.396835
60     17.167280  1104.656250  0.421381   6.591000
61     48.198017   353.104248  0.725143  10.405507
62     17.373148   483.680237  0.685229   2.728044
63      7.321981   487.752838  0.993317   5.340956

[64 rows x 4 columns]
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 64 entries, 0 to 63
Data columns (total 2 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   index      64 non-null     int64  
 1   Estimator  64 non-null     float64
dtypes: float64(1), int64(1)
memory usage: 1.1 KB
    index   Estimator
0       0  395.670964
1       1  394.365241
2       2  396.107425
3       3  402.321738
4       4  403.260979
..    ...         ...
59     59  408.530190
60     60  404.704137
61     61  395.131336
62     62  396.220617
63     63  396.266828

[64 rows x 2 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
MLLITE_REG_SQL_L1_ERROR ('freidman2_small', 'NuSVR') Estimator 0.8410336735189947
    index  SQL_Estimator  Py_Estimator  SQL_Error
48     48     397.818683    396.910217   0.908466
49     49     396.629634    395.497223   1.132411
50     50     407.487766    408.661133  -1.173367
51     51     400.032992    399.678650   0.354343
52     52     401.594522    401.665253  -0.070731
53     53     398.434718    397.671783   0.762934
54     54     408.809761    409.315491  -0.505730
55     55     395.699883    394.474731   1.225151
56     56     406.518020    407.651703  -1.133683
57     57     394.973667    393.790070   1.183597
58     58     403.923306    404.587097  -0.663791
59     59     408.530190    409.470612  -0.940422
60     60     404.704137    405.544556  -0.840419
61     61     395.131336    393.921204   1.210132
62     62     396.220617    395.039001   1.181616
63     63     396.266828    395.093353   1.173474
MLLITE_REG_SQL_EXECUTION_STATUS ('freidman2_small', 'NuSVR', 'Failure')
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
