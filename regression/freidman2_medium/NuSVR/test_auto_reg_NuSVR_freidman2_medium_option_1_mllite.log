          X_0          X_1       X_2        X_3       target
0   45.688718   609.092549  0.591968   7.449268   363.446298
1   92.630496  1621.621954  0.997097   3.905369  1619.565758
2   76.131749   526.792001  0.716619   5.202790   385.108775
3   40.067007   524.247515  0.463251   1.522912   246.139654
4   34.726296   778.125942  0.167246   2.339115   134.691570
..        ...          ...       ...        ...          ...
95  22.116345  1162.774063  0.675740   4.934592   786.044214
96  59.325419  1558.844569  0.742170   4.222862  1158.447272
97  74.947222  1754.316103  0.366207   1.961987   646.799393
98  52.067586   534.256140  0.155164   8.526538    97.892577
99   0.743929   167.010742  0.924844  10.614025   154.460077

[100 rows x 5 columns]
MLLITE_MODEL_SET_OPTIONS NuSVR {"nu" : 0.1}
MLLITE_MODEL_OPTIONS_DEFAULT NuSVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVR { "nu" : 0.1,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVR None
('OPERATION_START', 'TRAINING')
[[4.5688717e+01 6.0909253e+02 5.9196806e-01 7.4492683e+00]
 [9.2630493e+01 1.6216219e+03 9.9709725e-01 3.9053690e+00]
 [7.6131752e+01 5.2679199e+02 7.1661860e-01 5.2027898e+00]
 [4.0067005e+01 5.2424750e+02 4.6325052e-01 1.5229123e+00]
 [3.4726295e+01 7.7812592e+02 1.6724615e-01 2.3391147e+00]] [ 363.4463  1619.5658   385.10876  246.13965  134.69157]
MLLITE_FIT_USING_MODEL mllite_nu_svm_reg.NuSVR_ff4_ff4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 1 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 2 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 3 4
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:NuSVR_Global' 12 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_SOLVER_ITERATION:NuSVR_Global' 24 128
PROGRESS_REPORT_ELAPSED_TOTAL 'SVM_NU_REGRESSOR_FIT' 4 4
('OPERATION_END_ELAPSED', 0.011, 'TRAINING')
{ "nu" : 0.1,  "max_iter" : 128  , }
{ "nu" : 0.1,  "max_iter" : 128  , }
{
	"metadata" : { "model" : "Vapnik_NuSVR_RBF", "version" : "2024-W12", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "nu_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.100000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 100, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 12,
	"SupportVectors" : {
		"SV_00" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
		"SV_01" : [ 83.628975, 1564.098755, 0.798945, 2.980786 ],
		"SV_02" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_03" : [ 10.735011, 265.420807, 0.260950, 2.285511 ],
		"SV_04" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_05" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_06" : [ 17.761709, 423.498322, 0.135270, 10.148129 ],
		"SV_07" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_08" : [ 43.550098, 1462.972046, 0.939145, 3.150335 ],
		"SV_09" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
		"SV_10" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_11" : [ 59.325420, 1558.844604, 0.742170, 4.222862 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -0.000001, -1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 0.000001 ]
	},
	"rho" : [ -617.762878 ],
	"nSV" : [ 12 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 28 ]
}
}
WRITING_JSON_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_medium_option_1.json'

MLLITE_MODEL_SET_OPTIONS NuSVR {"nu" : 0.1}
MLLITE_MODEL_OPTIONS_DEFAULT NuSVR { "max_iter" : 128 }
MLLITE_MODEL_OPTIONS_AFTER_SETTING NuSVR { "nu" : 0.1,  "max_iter" : 128  , }
MLLITE_MODEL_JSON_AFTER_SETTING NuSVR None
MLLITE_RELOADING_MODEL mllite_nu_svm_reg.NuSVR_ff4_ff4
{
	"metadata" : { "model" : "Vapnik_NuSVR_RBF", "version" : "2024-W12", "signature" : "ff4_ff4"},
	"options" : {"svm_type" : "nu_svr", "kernel" : "rbf", "degree" : 3, "gamma" : 0.000001, "coef0" : 0.000000, "cache_size" : 300, "tol" : 0.001000, "nu" : 0.100000, "epsilon" : 0.000000, "shrinking" : 0, "probability" : 0, "C" : 1.000000, "max_iter" : 128, "random_state" : 1789 },
	"dataset" : { "dataset_rows" : 100, "dataset_features" : 4 },
	"svm_model" : {
	"classes" : 2,
	"L" : 12,
	"SupportVectors" : {
		"SV_00" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
		"SV_01" : [ 83.628975, 1564.098755, 0.798945, 2.980786 ],
		"SV_02" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
		"SV_03" : [ 10.735011, 265.420807, 0.260950, 2.285511 ],
		"SV_04" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
		"SV_05" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
		"SV_06" : [ 17.761709, 423.498322, 0.135270, 10.148129 ],
		"SV_07" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
		"SV_08" : [ 43.550098, 1462.972046, 0.939145, 3.150335 ],
		"SV_09" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
		"SV_10" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
		"SV_11" : [ 59.325420, 1558.844604, 0.742170, 4.222862 ]
	},
	"SupportVectorsCoefs" : {
		"SV_coef_0" : [ 1.000000, 1.000000, -1.000000, -1.000000, 1.000000, -0.000001, -1.000000, 1.000000, 1.000000, -1.000000, -1.000000, 0.000001 ]
	},
	"rho" : [ -617.762878 ],
	"nSV" : [ 12 ],
	"probA" : [ ],
	"probB" : [ ],
	"n_iter" : [ 28 ]
}
}
BEAUTIFIED_JSON_START
{
	"dataset" : 	{
		"dataset_features" : 4,
		"dataset_rows" : 100
	},
	"metadata" :  { "model" : "Vapnik_NuSVR_RBF", "signature" : "ff4_ff4", "version" : "2024-W12" },
	"options" :  { "C" : 1.0, "cache_size" : 300, "coef0" : 0.0, "degree" : 3, "epsilon" : 0.0, "gamma" : 1e-06, "kernel" : "rbf", "max_iter" : 128, "nu" : 0.1, "probability" : 0, "random_state" : 1789, "shrinking" : 0, "svm_type" : "nu_svr", "tol" : 0.001 },
	"svm_model" : 	{
		"L" : 12,
		"SupportVectors" : 	{
			"SV_00" : [ 92.630493, 1621.621948, 0.997097, 3.905369 ],
			"SV_01" : [ 83.628975, 1564.098755, 0.798945, 2.980786 ],
			"SV_02" : [ 38.088467, 1321.297485, 0.052941, 10.429984 ],
			"SV_03" : [ 10.735011, 265.420807, 0.26095, 2.285511 ],
			"SV_04" : [ 13.316919, 1592.958618, 0.993566, 7.946761 ],
			"SV_05" : [ 75.648438, 442.560303, 0.035123, 1.334146 ],
			"SV_06" : [ 17.761709, 423.498322, 0.13527, 10.148129 ],
			"SV_07" : [ 22.605108, 1660.837036, 0.731124, 9.374556 ],
			"SV_08" : [ 43.550098, 1462.972046, 0.939145, 3.150335 ],
			"SV_09" : [ 15.123654, 486.957489, 0.123542, 2.365677 ],
			"SV_10" : [ 45.437614, 168.841202, 0.343817, 3.279963 ],
			"SV_11" : [ 59.32542, 1558.844604, 0.74217, 4.222862 ]
		},
		"SupportVectorsCoefs" : 	{
			"SV_coef_0" : [ 1.0, 1.0, -1.0, -1.0, 1.0, -1e-06, -1.0, 1.0, 1.0, -1.0, -1.0, 1e-06 ]
		},
		"classes" : 2,
		"nSV" : [ 12 ],
		"n_iter" : [ 28 ],
		"probA" : [  ],
		"probB" : [  ],
		"rho" : [ -617.762878 ]
	}
}
BEAUTIFIED_JSON_END
('OPERATION_START', 'PREDICT')
[615.1825  621.2966  614.81366 614.7908  616.2003  618.8662  621.171
 618.2075  614.6488  614.2967  621.10754 615.3621  615.2748  621.09125
 620.6082  614.3537  614.1954  615.5185  618.6423  621.41595 621.39526
 618.6964  615.21594 614.32947 618.23303 614.1988  617.8664  619.1124
 620.12164 620.79126 619.7138  614.18994 617.3814  616.8944  618.7796
 617.1888  618.6962  617.5123  616.9962  621.2978  614.184   614.19305
 615.81323 618.2415  614.1935  621.2341  614.5166  621.2604  617.62164
 614.44763 620.3257  614.9339  617.04584 614.7409  616.2472  619.6411
 621.35254 618.27734 621.40765 621.2403  621.4142  616.0583  614.63434
 614.5063  615.3183  615.989   614.18744 614.2712  620.6662  614.57227
 617.2472  619.71155 614.6115  614.19135 621.1925  614.23157 619.23914
 614.46246 619.0679  614.2061  621.3556  615.71985 614.8213  620.831
 615.5445  614.25824 615.49634 614.6459  617.3351  614.2015  614.60004
 616.838   616.4575  614.7617  615.58527 619.07196 621.1592  621.41565
 614.83514 614.2016 ]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
('OPERATION_START', 'PREDICT')
[615.4513  621.018   615.0956  615.07556 616.3863  618.7531  620.8784
 618.1705  614.93445 614.55585 620.8115  615.61975 615.5371  620.79565
 620.32605 614.6186  614.3779  615.7647  618.5549  621.20056 621.1446
 618.6029  615.47986 614.5921  618.19305 614.42285 617.86914 618.9714
 619.8766  620.4991  619.50793 614.3819  617.44    617.0075  618.67664
 617.26917 618.6024  617.55615 617.09845 621.01746 614.3675  614.4125
 616.0328  618.20056 614.4128  620.9473  614.796   620.97864 617.65295
 614.7268  620.0636  615.21136 617.1425  615.0236  616.4286  619.4427
 621.0861  618.2322  621.17786 620.95184 621.1982  616.2574  614.92017
 614.78864 615.57886 616.19415 614.3763  614.5174  620.38116 614.85675
 617.32104 619.5064  614.8947  614.37976 620.90204 614.4626  619.08386
 614.7423  618.93164 614.4298  621.09    615.94855 615.1056  620.5373
 615.78864 614.38245 615.74146 614.93176 617.3992  614.3592  614.8851
 616.9568  616.61743 615.0472  615.8262  618.9355  620.8647  621.1996
 615.11847 614.3576 ]
('OPERATION_END_ELAPSED', 0.001, 'PREDICT')
MODEL_PERFS {'class_name': 'mllite.NuSVR', 'model_name': 'NuSVR', 'options': '{"nu" : 0.1}', 'dataset': 'freidman2_medium', 'size': 100, 'mse': 148729.58, 'mae': 330.13742, 'mape': 1.8672441, 'r2': -0.25015883140410344}
WRITING_PERF_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_medium_option_1.perf'

MODEL_PERFS_TIMINGS {'class_name': 'mllite.NuSVR', 'model_name': 'NuSVR', 'options': '{"nu" : 0.1}', 'dataset': 'freidman2_medium', 'training_time_in_sec': 0.011, 'prediction_time_in_sec': 0.001}
WRITING_SQL_CODE 'logs/auto_tests/regression/NuSVR/mllite.NuSVR_freidman2_medium_option_1.sql'



SQL_OUT_PUT_FIRST_LINES_START
WITH model_input AS 
 (SELECT "ADS"."index" AS "index",
    CAST("ADS"."X_0" AS FLOAT) AS "X_0", CAST("ADS"."X_1" AS FLOAT) AS "X_1", CAST("ADS"."X_2" AS FLOAT) AS "X_2", CAST("ADS"."X_3" AS FLOAT) AS "X_3"
  FROM "MLLITE_INPUT_TABLE" AS "ADS" 
 )
,"SV_data" AS
 ( SELECT 
   "Values"."sv_idx" AS "sv_idx",
   "Values"."coeff" AS "coeff",
   "Values"."sv_0" AS "sv_0",
   "Values"."sv_1" AS "sv_1",
   "Values"."sv_2" AS "sv_2",
   "Values"."sv_3" AS "sv_3"
  FROM
  (
     SELECT 0 AS "sv_idx", 1.000000 AS "coeff", 92.630493 AS "sv_0", 1621.621948 AS "sv_1", 0.997097 AS "sv_2", 3.905369 AS "sv_3"
     UNION ALL
     SELECT 1 AS "sv_idx", 1.000000 AS "coeff", 83.628975 AS "sv_0", 1564.098755 AS "sv_1", 0.798945 AS "sv_2", 2.980786 AS "sv_3"
     UNION ALL
     SELECT 2 AS "sv_idx", -1.000000 AS "coeff", 38.088467 AS "sv_0", 1321.297485 AS "sv_1", 0.052941 AS "sv_2", 10.429984 AS "sv_3"
     UNION ALL
     SELECT 3 AS "sv_idx", -1.000000 AS "coeff", 10.735011 AS "sv_0", 265.420807 AS "sv_1", 0.260950 AS "sv_2", 2.2
SQL_OUT_PUT_FIRST_LINES_END
SQL_OUT_PUT_LAST_LINES_START
41202 AS "sv_1", 0.343817 AS "sv_2", 3.279963 AS "sv_3"
     UNION ALL
     SELECT 11 AS "sv_idx", 0.000001 AS "coeff", 59.325420 AS "sv_0", 1558.844604 AS "sv_1", 0.742170 AS "sv_2", 4.222862 AS "sv_3"
   ) AS "Values"
 )
,"Kernel_DotProd" AS
 ( SELECT
    dp."index" as "index",
    dp."dot_product" AS "Estimator"
   FROM
    (SELECT
      full_join_data_sv."index" AS "index",
      sum(CAST(full_join_data_sv.dot_prod AS FLOAT)) - -617.762878 AS dot_product
     FROM
       (SELECT
          model_input."index" AS "index",
          "SV_data"."coeff" *  exp(min(max(-32.0, -0.000001 * (power(model_input."X_0" - "SV_data".sv_0, 2) + power(model_input."X_1" - "SV_data".sv_1, 2) + power(model_input."X_2" - "SV_data".sv_2, 2) + power(model_input."X_3" - "SV_data".sv_3, 2))), 32.0))  AS "dot_prod" 
        FROM
          model_input, "SV_data"
       ) AS full_join_data_sv
     GROUP BY full_join_data_sv."index"
    ) AS dp )
SELECT
  t."index" as "index",
  t."Estimator" as "Estimator"
FROM "Kernel_DotProd" AS t

SQL_OUT_PUT_LAST_LINES_END




COPY_TRAINING_DATA_TO_SQLITE_START
          X_0          X_1       X_2        X_3  KEY
0   45.688717   609.092529  0.591968   7.449268    0
1   92.630493  1621.621948  0.997097   3.905369    1
2   76.131752   526.791992  0.716619   5.202790    2
3   40.067005   524.247498  0.463251   1.522912    3
4   34.726295   778.125916  0.167246   2.339115    4
..        ...          ...       ...        ...  ...
95  22.116344  1162.774048  0.675740   4.934592   95
96  59.325420  1558.844604  0.742170   4.222862   96
97  74.947220  1754.316162  0.366207   1.961987   97
98  52.067585   534.256165  0.155164   8.526538   98
99   0.743929   167.010742  0.924844  10.614025   99

[100 rows x 5 columns]
COPY_TRAINING_DATA_TO_SQLITE_END


PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_START
    index   Estimator
0       0  615.451316
1       1  621.017998
2       2  615.095596
3       3  615.075550
4       4  616.386297
..    ...         ...
95     95  618.935479
96     96  620.864682
97     97  621.199565
98     98  615.118462
99     99  614.357586

[100 rows x 2 columns]
PREDICT_MODEL_ON_TRAINING_DATA_INSIDE_SQLITE_END


COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_START
Index(['index', 'Estimator'], dtype='object')
    index  SQL_Estimator  Py_Estimator
84     84     615.788651    615.544495
85     85     614.382435    614.258240
86     86     615.741453    615.496338
87     87     614.931741    614.645874
88     88     617.399193    617.335083
89     89     614.359166    614.201477
90     90     614.885065    614.600037
91     91     616.956806    616.838013
92     92     616.617447    616.457520
93     93     615.047196    614.761719
94     94     615.826177    615.585266
95     95     618.935479    619.071960
96     96     620.864682    621.159180
97     97     621.199565    621.415649
98     98     615.118462    614.835144
99     99     614.357586    614.201599
COMPARE_SQL_OUTPUT_AND_PYTHON_OUTPUT_END
